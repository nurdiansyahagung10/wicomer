{% extends 'layout\base.html' %}
{% load static %}
{% block contains %}
<style>
    @media (min-width: 768px) {
     
        .login-main-right {
            padding: 0 16% !important;
            min-height: 100vh;
            margin-top: -40px;
        }
        .arrow-up {
            display: none;
        }

        .name-left {
            align-items: end;
        }

    }

    @media (min-width: 992px){
        .login-main-right {
            padding: 0 19% !important;
            min-height: 100vh;
            margin-top: -40px;
        }
    }

    @media (max-width: 768px) {
        .login-main-right {
            padding: 0 11% !important;
            min-height: 105vh;
            margin-top: -49px;
        }

        .arrow-up {
            display: block;
        }

        .name-left {
            align-items: start;
        }

    }

    .form-control:focus{
        border: 1px solid rgba(234,100,217,0.4) !important;
        box-shadow:  0 0 0 4px rgba(234,100,217,0.1) !important;
    }
    
    .form-control{
        padding: 9px !important;
    }
</style>


<div class="container-fluid p-0">
    <div class="d-flex  flex-column flex-md-row  bg-black  " style="min-height: 100vh;">
        <div style="height: 100vh;"
            class="position-sticky position-relative top-0 bg-light z-1 login-main-left col-md-4 d-flex align-items-end justify-content-center overflow-hidden  ">
            <video src="{% static 'video/cloner-cube-binary-copy (1).mp4' %}" loop muted autoplay class="w-100 h-100"
                style="object-fit: cover;"></video>
            <div class="position-absolute h-100 d-flex name-left w-100 py-4">
                <div style="width:95%; backdrop-filter: blur(20px);" class="h-auto mx-auto rounded-3">
                    <div class="w-100 pt-3 px-4 pb-2">
                        <h1 class="text-white" style="font-family: 'Grand Hotel', cursive;">wicomer</h1>
                        <p class="text-white">Background create by Spline</p>
                    </div>
                </div>
            </div>
            <div class="position-absolute arrow-up" style="padding-bottom: 55px;">
                <i class="fa-solid fs-5 fa-angles-up text-white placeholder-wave"></i>
            </div>
        </div>
        <div class="z-2  bg-white login-main-right  rounded-top-5 shadow d-flex flex-column  col-md-8 ">
            <h1 class=" mt-4 pt-5 text-black fw-bold">Sign In</h1>
            <form class="mt-3" method="post">
                {% if messages %}

                {% for message in messages %}
                <div class="alert  alert-dismissible fade show text-white" style="background-color:  #0e0d23;"
                    role="alert">
                     <span>{{message}}</span>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="alert"
                        aria-label="Close"></button>
                </div>
                {% endfor %}

                {% endif %}
                {% if form.errors %}

                {% for field in form %}
                
                {% for error in field.errors  %}
                    
                <div class="alert  alert-dismissible fade show text-white" style="background-color:  #ff5555;"
                    role="alert">
                     {{error}}
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="alert"
                        aria-label="Close"></button>
                </div>
                                {% endfor %}

                {% endfor %}

                {% endif %}


                {% csrf_token %}
                <div class="mb-3">
                    <label for="exampleInputEmail1" class="form-label">{{form.username.label}}</label>
                        {{form.username}}
                    <div id="emailHelp" class="form-text">You can Sign in using username or email</div>
                </div>
                <div class="mb-3">
                    <label for="exampleInputPassword1" class="form-label">{{form.password.label}}</label>
                        {{form.password}}
                </div>
                <div class="mb-3 form-check">
                    {{form.rememberme}}
                    <label class="form-check-label" for="exampleCheck1">Remember Me</label>
                </div>
                <button type="submit" style="background-color: #0e0d23;" 
                    class="btn py-2  text-white w-100 rounded-5 shadow-sm">Submit</button>
            </form>
            <div class=" mt-2 d-flex gap-1 justify-content-center align-items-center">
                <small class="text-secondary">Forgot Accounts or Password?</small>
                <a href="{% url 'forgot_accounts_or_password' %}" class="small text-black text-decoration-none">Get help</a>
            </div>
            <div class=" mt-2 ">
                <div class="d-flex justify-content-center">
                    <span class="bg-white z-1 p-1 ">OR</span>
                </div>
                <hr style="margin-top: -16px;">
            </div>
            <div class="flex-fill mb-3">
                <form method="post" action="{% url 'social:begin' 'google-oauth2' %}" id="googleauthform">
                    {% csrf_token %}
                    <button type="submit"
                        class="btn py-2 border w-100 rounded-5 d-flex align-items-center gap-3 justify-content-center">
                        <img src="{% static 'img/google.png' %}" style="width: 1rem;" alt=""><span>Sign in with Google</span>
                    </button>
                </form>
            </div>
            <div
                class="w-100 mb-auto d-flex py-3 border-top bg-white z-3 align-items-center justify-content-center gap-1 position-sticky bottom-0 ">
                <small>Don't have an accounts?</small>
                <a href="{% url 'signup' %}" class="small text-decoration-none " style="color: goldenrod;">Sign up</a>
            </div>
        </div>
    </div>
</div>

<script>
    window.addEventListener('scroll', function () {
        if (window.innerWidth < 768) {
            var fromTop = window.scrollY;
            document.querySelector(".topimg").style.opacity = (100 - fromTop / 3) + '%';
        }
    });
    window.addEventListener('resize', function () {
        document.querySelector(".topimg").style.opacity = 100;
    });

</script>
{% endblock contains %}